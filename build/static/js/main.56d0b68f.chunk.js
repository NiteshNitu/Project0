(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{118:function(e,t,a){e.exports=a.p+"static/media/bgimg.f7e9820d.jpg"},121:function(e,t,a){e.exports=a(259)},259:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"fetchUser",(function(){return w})),a.d(n,"submitSurvey",(function(){return k})),a.d(n,"fetchSurveys",(function(){return x}));a(122);var r=a(0),l=a.n(r),c=a(32),i=a.n(c),u=a(8),s=a(9),o=a(116),m=a(11),d=a(12),p=a(15),h=a(13),f=a(16),y=a(25),v=a(29),b=a(34),E=a.n(b),g=a(57),j=a(41),O=a.n(j),w=function(){return function(){var e=Object(g.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("/api/current_user");case 2:a=e.sent,t({type:"fetch",payload:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},k=function(e,t){return function(){var a=Object(g.a)(E.a.mark((function a(n){var r;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.post("/api/surveys",e);case 2:r=a.sent,t.push("/surveys"),n({type:"fetch",payload:r.data});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},x=function(){return function(){var e=Object(g.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("/api/surveys");case 2:a=e.sent,t({type:"fetch_surveys",payload:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchSurveys()}},{key:"renderSurveys",value:function(){return this.props.surveys.reverse().map((function(e){return l.a.createElement("div",{className:"card blue-grey darken-1",key:e._id},l.a.createElement("div",{className:"card-content"},l.a.createElement("span",{className:"card-title"},e.title),l.a.createElement("p",null,e.body),l.a.createElement("p",{className:"right"},"Sent On: ",new Date(e.dateSent).toLocaleDateString())))}))}},{key:"render",value:function(){return l.a.createElement("div",null,this.renderSurveys())}}]),t}(r.Component);var C=Object(u.b)((function(e){return{surveys:e.surveys}}),{fetchSurveys:x})(S),N=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"renderContent",value:function(){switch(this.props.auth){case null:return;case!1:return void this.props.history.push("/");default:return l.a.createElement("div",null,"Dashboard",l.a.createElement(C,null),l.a.createElement("div",{className:"fixed-action-btn"},l.a.createElement(y.b,{to:"/surveys/new",class:"btn-floating btn-large waves-effect waves-light red"},l.a.createElement("i",{class:"material-icons"},"add"))))}}},{key:"render",value:function(){return this.renderContent()||null}}]),t}(r.Component);var F=Object(u.b)((function(e){return{auth:e.auth}}))(N),z=a(33),B=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"renderContent",value:function(){switch(console.log("header",this.props.auth),this.props.auth){case null:return;case!1:return l.a.createElement("li",null,l.a.createElement("a",{href:"/auth/google",className:"btn my-2 mr-sm-2"},"Login With Google"));default:return[l.a.createElement("li",{key:"1",style:{margin:"0px 10px"}},"Credits: ",this.props.auth.credits),l.a.createElement("li",{key:"2"},l.a.createElement("a",{href:"/api/logout"},"Logout"))]}}},{key:"render",value:function(){var e=this;return l.a.createElement(z.StickyContainer,null,l.a.createElement(z.Sticky,null,(function(t){var a=t.style;t.isSticky,t.wasSticky,t.distanceFromTop,t.distanceFromBottom,t.calculatedHeight;return l.a.createElement("header",{style:a},l.a.createElement("nav",null,l.a.createElement("div",{className:"nav-wrapper"},l.a.createElement(y.b,{to:e.props.auth?"/surveys":"/",className:"left brand-logo"},"Emaily"),l.a.createElement("ul",{className:"right"},e.renderContent()))))})),"jbwejfbwejkfbwejkfb")}}]),t}(r.Component);Object(u.b)((function(e){return{auth:e.auth}}))(B);var A=a(118),D=a.n(A),L=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{style:{backgroundImage:"url(".concat(D.a,")"),backgroundSize:1200}},l.a.createElement("div",{style:{flex:1,fontSize:40,display:"flex",justifyContent:"center",alignItems:"center",fontFamily:"comicsans"}},l.a.createElement("b",{style:{margin:"200px 200px"}},"Email Services")),l.a.createElement("div",null,l.a.createElement("div",{className:"row text-center"},l.a.createElement("div",{className:"col-lg-4 m-6 p-6",style:{marginLeft:40}},l.a.createElement("div",{className:"card",style:{width:"18rem"}},l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title"},l.a.createElement("b",null,"Features"))),l.a.createElement("ul",{className:"list-group list-group-flush "},l.a.createElement("li",{className:"list-group-item"},"Send Bulk Emails In One Click"),l.a.createElement("li",{className:"list-group-item"},"Manage Sent Emails"),l.a.createElement("li",{className:"list-group-item"},"New Features Will Be Added Soon")),l.a.createElement("div",{className:"card-body text-center"},l.a.createElement("a",{href:"/auth/google",className:"btn btn-primary"},"Connect With Google")))))))}}]),t}(r.Component);var M=Object(u.b)((function(e){return{auth:e.auth}}))(L),H=a(120),I=a(261),R=a(262),V=a(263),Y=a(264),T=a(265),_=a(270),U=a(266),W=function(e,t){if(t)switch(e.auth){case null:case!1:return;default:return[l.a.createElement("li",{key:"3",style:{color:"grey"}},l.a.createElement("a",{href:"/api/addcredits",style:{margin:"0px 8px",color:"grey"}},l.a.createElement("div",null,"Add Credits"))),l.a.createElement("li",{key:"2",style:{color:"grey"}},l.a.createElement("a",{href:"/surveys",style:{margin:"0px 8px",color:"grey"}},l.a.createElement("div",null,"My Surveys"))),l.a.createElement("li",{key:"1",style:{color:"grey"}},"Credits: ",e.auth.credits)]}else switch(e.auth){case null:return;case!1:return[l.a.createElement("li",{className:"mt-2"},l.a.createElement("pre",{className:"m-n2"},"Sign in with",l.a.createElement("b",{style:{fontSize:50}},"["))),l.a.createElement("li",null,l.a.createElement(I.a,{href:"/auth/google"},l.a.createElement("svg",{className:"mt-n3",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"38",height:"38",viewBox:"0 0 48 48",style:{fill:"#000000;"}},l.a.createElement("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),l.a.createElement("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),l.a.createElement("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),l.a.createElement("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})))),l.a.createElement("li",{className:"mt-2"},l.a.createElement("pre",{className:"m-n2"},l.a.createElement("b",{style:{fontSize:50}},"]")))];default:return l.a.createElement(R.a,{className:"float-right",key:"2"},l.a.createElement("a",{href:"/api/logout",style:{margin:"0px 10px",color:"grey"}},l.a.createElement("div",null,"Logout")))}};var G=Object(u.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object(r.useState)(!1),a=Object(H.a)(t,2),n=a[0],c=a[1],i=function(){return c(!n)};return l.a.createElement(z.Sticky,null,(function(t){var a=t.style;return l.a.createElement("header",{style:a},l.a.createElement(V.a,{color:"light",light:!0,expand:"md"},l.a.createElement("a",{href:"/"},l.a.createElement("i",{className:"material-icons",style:{color:"grey"}},"email")),l.a.createElement(Y.a,{href:"/"},"Bulk Emailer"),l.a.createElement(T.a,{onClick:i}),l.a.createElement(_.a,{isOpen:n,navbar:!0},l.a.createElement(U.a,{className:"mr-auto float-left text-center",navbar:!0},l.a.createElement(R.a,null,l.a.createElement("a",{href:"/about",style:{color:"grey"}},"About")),l.a.createElement(R.a,null,l.a.createElement("a",{href:"/feedback",style:{color:"grey"}},"Contact/Feedback")),W(e,!0)),l.a.createElement(U.a,{className:"float-right"},l.a.createElement(R.a,null,W(e,!1))))))}))})),J=a(268),Z=a(267),q=function(e){var t=e.input,a=e.label,n=e.meta,r=n.touched,c=n.error;return console.log(t),l.a.createElement("div",null,l.a.createElement("label",null,a),l.a.createElement("input",Object.assign({},t,{style:{marginBottom:"5px"}})),l.a.createElement("div",{className:"red-text",style:{marginBottom:"20px"}},r&&c))},P=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,$=function(e){var t=e.split(",").map((function(e){return e.trim()})).filter((function(e){return!1===P.test(e)||""===e}));if(t.length)return"The list of INVALID emails are: { ".concat(t," } ")},K=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"renderFields",value:function(){return l.a.createElement("div",null,l.a.createElement(J.a,{label:"Survey Title",type:"text",name:"title",component:q}),l.a.createElement(J.a,{label:"Survey Subject",type:"text",name:"subject",component:q}),l.a.createElement(J.a,{label:"Email Body",type:"text",name:"body",component:q}),l.a.createElement(J.a,{label:"Recipient List",type:"text",name:"recipients",component:q}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:this.props.handleSubmit(this.props.onSurveySubmit)},this.renderFields(),l.a.createElement(y.b,{to:"/surveys",className:"red btn-flat left white-text"},"Cancel"),l.a.createElement("button",{type:"submit",className:"teal btn-flat right white-text"},"Next",l.a.createElement("i",{className:"material-icons right"},"done"))))}}]),t}(r.Component);var Q=Object(Z.a)({validate:function(e){var t={};return t.recipients=$(e.recipients||""),e.title||(t.title="You need to provide some title"),e.subject||(t.subject="You need to provide a subject"),e.body||(t.body="You need to provide a body"),e.recipients||(t.recipients="You need to provide a list of emails"),t},form:"surveyForm",destroyOnUnmount:!1})(K);var X=Object(u.b)((function(e){return{formValues:e.form.surveyForm.values}}),n)(Object(v.e)((function(e){var t=e.onCancel,a=e.formValues,n=e.submitSurvey,r=e.history;return l.a.createElement("div",null,l.a.createElement("h4",null,"Check Your Details And Proceed"),l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("label",null,"Survey Title"),l.a.createElement("div",null,a.title)),l.a.createElement("div",null,l.a.createElement("label",null,"Survey Subject"),l.a.createElement("div",null,a.subject)),l.a.createElement("div",null,l.a.createElement("label",null,"Survey Body"),l.a.createElement("div",null,a.body)),l.a.createElement("div",null,l.a.createElement("label",null,"Emails List"),l.a.createElement("div",null,a.recipients))),l.a.createElement("button",{className:"yellow darken-3 btn-flat",onClick:t},"Back"),l.a.createElement("button",{className:"green btn-flat right",onClick:function(){return n(a,r)}},"Send Emails",l.a.createElement("i",{className:"material-icons right"},"email")))}))),ee=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={showFormReview:!1},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"renderContent",value:function(){var e=this;switch(this.props.auth){case null:return;case!1:return void this.props.history.push("/");default:return this.state.showFormReview?l.a.createElement(X,{onCancel:function(){return e.setState({showFormReview:!1})}}):l.a.createElement(Q,{onSurveySubmit:function(){return e.setState({showFormReview:!0})}})}}},{key:"render",value:function(){return l.a.createElement("div",null,this.renderContent())}}]),t}(r.Component);var te=Object(Z.a)({form:"surveyForm"})(Object(u.b)((function(e){return{auth:e.auth}}))(ee)),ae=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchUser()}},{key:"render",value:function(){return l.a.createElement(y.a,null,l.a.createElement(z.StickyContainer,null,l.a.createElement(G,null),l.a.createElement(v.a,{exact:!0,path:"/",component:M}),l.a.createElement(v.a,{exact:!0,path:"/surveys",component:F}),l.a.createElement(v.a,{exact:!0,path:"/surveys/new",component:te})))}}]),t}(r.Component),ne=Object(u.b)(null,n)(ae),re=a(269),le=Object(s.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetch":return t.payload||!1;default:return e}},form:re.a,surveys:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetch_surveys":return t.payload||!1;default:return e}}});window.axios=O.a;var ce=Object(s.d)(le,{},Object(s.a)(o.a));i.a.render(l.a.createElement(u.a,{store:ce},l.a.createElement(ne,null)),document.querySelector("#root"))}},[[121,1,2]]]);
//# sourceMappingURL=main.56d0b68f.chunk.js.map